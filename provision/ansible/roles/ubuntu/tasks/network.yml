- name: "Build vip hosts file"
  lineinfile:
    path: /etc/hosts
    regexp: "^{{ kubevip_address }}"
    line: "{{ kubevip_address }} {{ kubevip_domain }}"
    state: present
  when: kubevip_address is defined

- name: "Build qnap hosts file"
  lineinfile:
    path: /etc/hosts
    regexp: "^{{ qnap_address }}"
    line: "{{ qnap_address }} {{ qnap_domain }}"
    state: present
  when: qnap_address is defined

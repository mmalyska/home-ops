apiVersion: v1
kind: Secret
metadata:
  name: botkube-secret
  namespace: botkube
  annotations:
    checksum/secrets: {{ .Files.Get "secret.sec.yaml" | sha256sum }}
  labels:
    botkube.io/config-watch: "true"
stringData:
  comm_config.yaml: |
    communications:
      'default-group':
        discord:
          enabled: true
          botID: <secret:discord_botid>
          token: <secret:discord_token>
          channels:
            'default':
              id: <secret:discord_channel>
              bindings:
                executors:
                  - k8s-default-tools
                sources:
                  - k8s-err-events
                  - k8s-recommendation-events
